(this.webpackJsonpstoryflow=this.webpackJsonpstoryflow||[]).push([[0],{179:function(t,e,n){"use strict";n.r(e);var o=n(5),s=n.n(o),r=n(61),a=n.n(r),i=(n(69),n(70),n(62)),l=n(63),c=n(29),h=n(64),p=n.n(h);function d(t){var e=t?t.toString(36):"0";return e.length%2&&(e="0"+e),e}function u(t){try{return parseInt(t,36)}catch(e){return 0}}function f(t){for(var e={},n=0;n<t.length;n+=4){var o=t.substr(n,4),s=u(o.substr(0,2)),r=u(o.substr(2,2));e[String(s)]=String(r)}return e}var x=n(0);var w=function t(e){var n=e.flow,o=e.flowid,s=e.flowhash,r=e.setFlowhash,a=function(){var t=f(s);return t[o]||0===t[o]?t[o]:-1}(),i=function(t){r(o,t.target.value)};return Object(x.jsxs)("div",{className:"flow",children:[Object(x.jsx)("p",{children:n[o].text}),Object(x.jsx)("ul",{children:n[o].paths.map((function(t,e){return Object(x.jsx)("li",{children:Object(x.jsxs)("label",{children:[Object(x.jsx)("input",{type:"radio",name:o,value:e,onChange:i,checked:a===String(e)})," ",t.text]})},e)}))}),-1!==a&&n[o].paths[a].next?Object(x.jsx)(t,{flow:n,flowid:n[o].paths[a].next,flowhash:s,setFlowhash:r}):"",Object(x.jsx)("pre",{style:{display:"none"},children:JSON.stringify(n,null,2)})]})};var g=function(t){var e=t.story,n=s.a.useState(""),o=Object(c.a)(n,2),r=o[0],a=o[1],i=s.a.useState(""),h=Object(c.a)(i,2),u=h[0],g=h[1],j=function(t,e,n){return t[e].paths[n[e]]&&t[e].paths[n[e]].next?t[e].paths[n[e]].next:-1};return Object(x.jsxs)("div",{children:[Object(x.jsxs)("h1",{children:["Hello, it is time for a story ",r]}),Object(x.jsx)("div",{className:"flowcontainer",children:Object(x.jsx)(w,{flow:e.flow,flowid:e.start,flowhash:r,setFlowhash:function(t,n){var o=f(r),s="";o[t]=n,console.log(typeof t);var i=function(t,e,n){var o=[];o.push(e);for(var s=j(t,e,n);-1!==s;)o.push(s),s=j(t,s,n);return o}(e.flow,e.start,o);console.log(o),console.log(i);var c,h={},p=Object(l.a)(i);try{for(p.s();!(c=p.n()).done;){var u=c.value;console.log(u),console.log(typeof u),o[u]&&(h[u]=o[u],s+=e.flow[u].paths[h[u]].snippet+" ")}}catch(x){p.e(x)}finally{p.f()}console.log(h),a(function(t){var e="";return Object.keys(t).forEach((function(n){e+=d(n),e+=d(t[n])})),e}(h)),g(s)}})}),Object(x.jsx)("div",{className:"markdowncontainer",children:Object(x.jsx)(p.a,{children:u})}),Object(x.jsx)("pre",{style:{display:"none"},children:JSON.stringify(e,null,2)})]})};var j=function(){return Object(x.jsx)("div",{className:"App",children:Object(x.jsx)(g,{story:i.story})})},v=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,180)).then((function(e){var n=e.getCLS,o=e.getFID,s=e.getFCP,r=e.getLCP,a=e.getTTFB;n(t),o(t),s(t),r(t),a(t)}))};a.a.render(Object(x.jsx)(s.a.StrictMode,{children:Object(x.jsx)(j,{})}),document.getElementById("root")),v()},62:function(t){t.exports=JSON.parse('{"story":{"name":"Dragon Story","version":"1.0.0","start":"0","flow":{"0":{"text":"Which region does your dragon come from?","paths":[{"text":"Eastern","next":"1","snippet":"# A Dragon Story...\\nThere once was a dragon from the Eastern region"},{"text":"Western","next":"2","snippet":"# A Dragon Story...\\nThere once was a dragon from the Western region"}]},"1":{"text":"Does your dragon have wings?","paths":[{"text":"Yes","next":"3","snippet":"who flew with its wings."},{"text":"No","next":"3","snippet":"who flew without wings."}]},"2":{"text":"Is your dragon Bipedal or Quadpedal?","paths":[{"text":"Bipedal","next":"3","snippet":"with 2 feet and wings for arms."},{"text":"Quadpedal","next":"3","snippet":"with 2 arms, 2 feet and wings."}]},"3":{"text":"What color is your dragon?","paths":[{"text":"Red","next":"4","snippet":"The dragon was a lovely shade of red."},{"text":"Green","next":"4","snippet":"The dragon was a lovely shade of green."},{"text":"Blue","next":"4","snippet":"The dragon was a lovely shade of blue."}]},"4":{"text":"Where does your dragon want to visit?","paths":[{"text":"The Ocean","snippet":"Who wanted to visit the Ocean.\\n\\n"},{"text":"The Forest","snippet":"Who wanted to visit the Forest.\\n\\n"},{"text":"The Mountains","snippet":"Who wanted to visit the Mountains.\\n\\n"},{"text":"The Plains","snippet":"Who wanted to visit the Plains.\\n\\n"},{"text":"The Swamp","snippet":"Who wanted to visit the Swamp.\\n\\n"}]}}}}')},69:function(t,e,n){},70:function(t,e,n){}},[[179,1,2]]]);
//# sourceMappingURL=main.19fc9c73.chunk.js.map